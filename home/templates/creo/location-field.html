{% extends "creo/field.html" %}

{% block fieldViewWidget %}
  <span class="glyphicon glyphicon-globe"></span>
  <span ng-show="creo.isArtist()"
        ng-bind="creo.location.neighborhood">
  </span>
  <span ng-show="creo.isEvent()"
        ng-bind="creo.venue.name">
  </span>
  <span ng-show="creo.isSponsor()"
        ng-bind="creo.location.city">
  </span>
  <span ng-show="creo.isVenue()"
        ng-bind="creo.location.address">
  </span>
  <span ng-show="creo.isVenue() || creo.isEvent()">
    <a href="[[ creo.mapLink() ]]"
       class="location-map-link" target="_blank">
      map 
      <span class="smaller glyphicon glyphicon-new-window"></span>
    </a>
  </span>
{% endblock %}

{% block fieldEditInput %}
  <input type="text" class="form-control" id="id_{{fieldName}}"
         name="{{fieldName}}" ng-model="creo.{{fieldName}}Input"
         typeahead="l.formatted_address for l in getLocations($viewValue)"
         typeahead-loading="gettingLocations.{{fieldName}}" />
{% endblock %}

{% block extraEditActions %}
  <button type="button" class="btn btn-default">
    use map
  </button>
{% endblock %}
